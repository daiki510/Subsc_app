<div class="form">
  <%= form_with model: @subscription, local: true do |f| %>

    <% if @subscription.errors.any? %>
      <div id="error_explanation">
        <h2><%= @subscription.errors.count %>件のエラーがあります。</h2>

        <ul>
          <% @subscription.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-wrapper">
      <% if params[:id] %>
         <h1>サブスク編集</h1>
      <% else %>
         <h1>サブスク登録</h1>
      <% end %>
      
        <div class="form-item">
         <%= f.label :name %>
         <%= f.text_field :name, class: "form-control w-50" %>
        </div>
        <div class="form-item">
          <%= f.label :icon %>
          <%= f.text_field :icon, class: "form-control w-50" %>
        </div>
        <div class="form-item">
           <%= f.label :summary %>
           <%= f.text_area :summary ,class: "form-control w-50" ,rows: 5 %> 
        </div>
        <div class="form-item my-2">
           <%= f.label :category_ids, 'カテゴリー'%>
           <%= f.collection_select :category_ids, Category.all, :id, :name, prompt: true %>
        </div>
        <div class="button-panel">
          <%= f.submit class: "btn btn-primary my-2" %>
        </div>
      
      <div class="form-footer">
        <%= link_to "一覧へ戻る", subscriptions_path, class: "btn btn-light" %>
      </div>
    </div>
  <% end %>
</div>

